```jsx
import {useReducer} from 'react';

// reducer æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œè§„å®šäº†stateæ€æ ·æ›´æ–°ï¼Œstateå’Œactionä½œä¸ºå‚æ•°ï¼Œè€Œä¸”åº”è¯¥è¿”å›ä¸‹ä¸€ä¸ªstate,stateå’Œactionå¯ä»¥æ˜¯ä»»æ„å€¼
// action :å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å€¼ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå…·æœ‰æ ‡è¯†å®ƒçš„ç±»å‹å±æ€§å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·æœ‰é™„åŠ ä¿¡æ¯çš„å…¶ä»–å±æ€§å¯¹è±¡
// stateï¼šå®¹æ˜“çŠ¯é”™çš„åœ°æ–¹ï¼šä¸è¦åœ¨ä»»ä½•å¯¹è±¡æˆ–è€…æ•°ç»„é‡Œé¢ä¿®æ”¹stateçš„å€¼ï¼Œstateæ˜¯åªè¯»çš„

function reducer(state,action){
  switch (action.type) {
    case 'incremented_age': {
      // ğŸš© Don't mutate an object in state like this:
      state : state.age + 1,
      name: action.nextName,
      return state;
    },
    case 'incremented_age': {
      // âœ… Instead, return a new object
      return {
        ...state,
        age: state.age + 1
      };
    }
}
}

function MyComponent(){
    // age:è®¡ç®—å¾—æ¥çš„åˆå§‹åŒ–å€¼ï¼Œä»»æ„ç±»å‹ï¼Œåˆå§‹çŠ¶æ€ç”±ä»–ä¾èµ–çš„ä¸‹ä¸€ä¸ªinitå‚æ•°è®¡ç®—å¾—æ¥ï¼›initæ˜¯useReducerçš„ç¬¬ä¸‰ä¸ªå¯é€‰å‚æ•°ã€‚

    // åˆå§‹åŒ–å‡½æ•°åº”è¯¥è¿”å›ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œå¦‚æœåˆå§‹çŠ¶æ€ä¸æ˜¯ç‰¹å®šçš„ï¼Œä»–ä¼šè¢«è®¾ç½®ä¸ºinitialArgã€‚å¦åˆ™ï¼Œåˆå§‹çŠ¶æ€ä¼šè¢«è®¾ç½®ä¸ºè°ƒç”¨initä¹‹åçš„è¿”å›å€¼
    const [state,dispatch] = useReducer(reducer,{age:42}) // useReducer(reducer,initialArg, optional init)

    // useReducerè¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå€¼çš„æ•°ç»„[]
    // 1. å½“å‰çŠ¶æ€ï¼šåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“åï¼Œä»–è¢«è®¾ç½®ä¸ºåˆå§‹å€¼
    // 2. dispatchå‡½æ•°ï¼šå¯ä»¥å°†stateæ›´æ–°åˆ°ä¸åŒå€¼ï¼Œå¹¶ä¸”è§¦å‘é‡æ–°æ¸²æŸ“å‡½æ•°

    // æ³¨æ„äº‹é¡¹ï¼Œåªèƒ½åœ¨é¡¶çº§ä½œç”¨åŸŸä½¿ç”¨ï¼Œå¦‚æœæƒ³åœ¨æ¡ä»¶ã€å¾ªç¯ä¸­ä½¿ç”¨ï¼Œéœ€è¦é¢å¤–åˆ›å»ºä¸€ä¸ªæ–°ç»„å»ºå¹¶ä¸”å°†stateç§»è¿›æ–°ç»„ä»¶
    // ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸ºäº†æ‰¾åˆ°æ„å¤–ä¸çº¯å‡€æ•°æ®çš„Reactä¼šæŒ‡ä»¤reducerå’Œåˆå§‹åŒ–2æ¬¡ï¼Œ


    // Reactå°†ä¸ºè°ƒç”¨reducerå‡½æ•°çš„ç»“æœè®¾ç½®ä¸ºä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚è¯¥å‡½æ•°å¸¦æœ‰å½“å‰çŠ¶æ€å’Œä¼ é€’ç»™dispatchçš„æ“ä½œ
    // dispatchæ²¡æœ‰è¿”å›å€¼
    // dispatchå‡½æ•°åªä¼šåœ¨ä¸‹ä¸€æ¬¡æ¸²æŸ“æ›´æ–°å¦‚æœä½ åœ¨è°ƒç”¨dispatchå‡½æ•°ä¹‹åæŸ¥çœ‹stateå˜é‡ï¼Œåœ¨ä½ è°ƒç”¨å‰å±å¹•ä¸Šæ‹¿åˆ°çš„æ˜¯æ—§å€¼

    // ç”¨Object.iså¯¹æ¯”åå¦‚æœä½ ç»™çš„å€¼å’Œå½“å‰æ˜¯ä¸€æ ·çš„ã€‚Reactä¼šæ‰è¿‡ç»„ä»¶å’Œå­ç»„ä»¶çš„å†æ¬¡æ¸²æŸ“ã€‚è¿™æ˜¯ä¸€ä¸ªæ€§èƒ½ä¼˜åŒ–ï¼Œ

    // useReducerå’ŒuseStateå¾ˆç±»ä¼¼ï¼Œä½†æ˜¯ä»–è®©ä½ æŠŠstateæ›´æ–°é€»è¾‘ä»äº‹ä»¶å¤„ç†ç§»åˆ°äº†ä¸€ä¸ªç»„ä»¶ä¹‹å¤–çš„å•ä¸ªå‡½æ•°
}

  function handleAddTask(name) {
    dispatch({
      type: 'added',
      id: nextId++,
      name: name,
    });
  }
```



